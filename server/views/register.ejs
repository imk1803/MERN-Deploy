<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký</title>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body class="bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center h-screen">

    <!-- Hiển thị thông báo -->
    <% if (messages.error) { %>
        <div id="error-alert" class="fixed top-5 right-5 bg-red-500 text-white p-4 rounded shadow-lg">
            <i class="fas fa-exclamation-circle"></i> <%= messages.error %>
            <button onclick="closeAlert('error-alert')" class="ml-4 text-white font-bold">X</button>
        </div>
    <% } %>

    <% if (messages.success) { %>
        <div id="success-alert" class="fixed top-5 right-5 bg-green-500 text-white p-4 rounded shadow-lg">
            <i class="fas fa-check-circle"></i> <%= messages.success %>
            <button onclick="closeAlert('success-alert')" class="ml-4 text-white font-bold">X</button>
        </div>
    <% } %>

    <div class="w-full max-w-md bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-bold text-center text-gray-700 mb-6">Đăng ký tài khoản</h2>
        <form action="/register" method="POST" class="space-y-4">
            <div>
                <label class="block text-gray-700 font-medium" for="username">
                    <i class="fas fa-user"></i> Tên đăng nhập
                </label>
                <input class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-green-400" 
                    id="username" type="text" name="username" placeholder="Tên đăng nhập" required>
            </div>
            <div>
                <label class="block text-gray-700 font-medium" for="password">
                    <i class="fas fa-lock"></i> Mật khẩu
                </label>
                <input class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-green-400" 
                    id="password" type="password" name="password" placeholder="Nhập mật khẩu" required>
            </div>
            <div>
                <label class="block text-gray-700 font-medium" for="confirmPassword">
                    <i class="fas fa-check-circle"></i> Nhập lại mật khẩu
                </label>
                <input class="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-green-400" 
                    id="confirmPassword" type="password" name="confirmPassword" placeholder="Nhập lại mật khẩu" required>
            </div>
            <button class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                Đăng ký
            </button>
        </form>
        <p class="text-sm text-gray-600 mt-4 text-center">
            Đã có tài khoản? <a href="/login" class="text-green-500 hover:underline">Đăng nhập</a>
        </p>
        <p class="text-sm text-gray-600 text-center mt-2">
            <a href="/index" class="text-green-500 hover:underline">Quay lại trang chủ</a>
        </p>
    </div>

    <script>
        function closeAlert(id) {
            document.getElementById(id).style.display = 'none';
        }
        
        // Tự động ẩn thông báo sau 5 giây
        setTimeout(() => {
            let errorAlert = document.getElementById('error-alert');
            let successAlert = document.getElementById('success-alert');
            if (errorAlert) errorAlert.style.display = 'none';
            if (successAlert) successAlert.style.display = 'none';
        }, 5000);
    </script>

</body>
</html>
